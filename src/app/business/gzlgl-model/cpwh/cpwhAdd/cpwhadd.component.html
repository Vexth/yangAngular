<div class="modal fade" bsModal #childModal="bs-modal" [config]="{backdrop: 'static'}" tabindex="-1" 
role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" (onShow)="optsList($event)" (onHide)="handler($event)">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title pull-left">新增产品</h4>
          <button type="button" class="close pull-right" aria-label="Close" (click)="cpwhcpaddHide()">
          <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="row">
            <form class="form-horizontal modal-form">
              <table>
                  <colgroup>
                    <col width="90"/>
                    <col width="200"/>
                    <col width="80"/>
                    <col width="200"/>
                    <col width="80"/>
                    <col width="200"/>
                  </colgroup>
                  <tr>
                    <td class="cpwhaddLabel"><label>所属部门：</label></td>
                    <td>
                      <select class="form-control" [(ngModel)]="departId" name="optDepartmentId">
                        <option value="">--请选择--</option>
                        <option [value]="c.optionId" *ngFor="let c of addList.optDepartment">{{c.optionName}}</option>
                      </select>
                    </td>
                    <td class="cpwhaddLabel"><label>分类：</label></td>
                    <td>
                      <select class="form-control" [(ngModel)]="typeId" name="optTypeId">
                        <option value="">--请选择--</option>
                        <option [value]="c.optionId" *ngFor="let c of addList.optType">{{c.optionName}}</option>
                      </select>
                    </td>
                    <td class="cpwhaddLabel"><label>界别：</label></td>
                    <td>
                      <select class="form-control" [(ngModel)]="jieId" name="optJieId">
                        <option value="">--请选择--</option>
                        <option [value]="c.optionId" *ngFor="let c of addList.optJie">{{c.optionName}}</option>
                      </select>
                    </td>
                  </tr>
                  <tr>
                    <td class="cpwhaddLabel"><label>年级：</label></td>
                    <td>
                      <select class="form-control" [(ngModel)]="gradeId" name="optGradeId">
                        <option value="">--请选择--</option>
                        <option [value]="c.optionId" *ngFor="let c of addList.optGrade">{{c.optionName}}</option>
                      </select>
                    </td>
                    <td class="cpwhaddLabel"><label>产品I类：</label></td>
                    <td>
                      <select class="form-control" [(ngModel)]="kindId1" name="optKind1Id">
                        <option value="">--请选择--</option>
                        <option [value]="c.optionId" *ngFor="let c of addList.optKind1">{{c.optionName}}</option>
                      </select>
                    </td>
                    <td class="cpwhaddLabel"><label>产品II类：</label></td>
                    <td>
                      <select class="form-control" [(ngModel)]="kindId2" name="optKind2Id">
                        <option value="">--请选择--</option>
                        <option [value]="c.optionId" *ngFor="let c of addList.optKind2">{{c.optionName}}</option>
                      </select>
                    </td>
                  </tr>
                  <tr>
                    <td class="cpwhaddLabel"><label>科目：</label></td>
                    <td>
                      <select class="form-control" [(ngModel)]="subjectId" name="optSubjectId">
                        <option value="">--请选择--</option>
                        <option [value]="c.optionId" *ngFor="let c of addList.optSubject">{{c.optionName}}</option>
                      </select>
                    </td>
                    <td class="cpwhaddLabel" colspan="2"><label>是否按页码计算工作量：</label></td>
                    <td>
                      <span><input type="radio" value="1" name="is" [(ngModel)]="workloadType"></span>
                      是
                      <span><input type="radio" value="0" name="is" [(ngModel)]="workloadType" ></span>
                      否
                    </td>
                  </tr>
                  <tr>
                    <!-- <td class="cpwhaddLabel text-danger"><label>*添加行数：</label></td>
                    <td>
                      <input type="number" class="form-control ng-pristine ng-valid ng-touched" [ngModel]="cpAddTjhs" (ngModelChange)="cpAddTjhs=$event;" [ngModelOptions]="{standalone: true}" style="margin:5px 0;">
                    </td> -->
                    <td style="text-align: center;" colspan="2">
                      <div class="btn-group">
                        <button type="button" class="btn btn-success dropdown-toggle" (click)="pladd()">新增</button>
                      </div>
                      <div class="btn-group" style="margin-left:20px;">
                        <button type="button" class="btn btn-danger dropdown-toggle" (click)="delete()">删除</button>
                      </div>
                    </td>
                  </tr>
              </table>
            </form>
          </div>
          <div style="margin-top:10px;"></div>
          <p-dataTable [value]="tableList" [(selection)]="selectedCar" [style]="{'text-align':'center'}">
            <p-column [style]="{'width':'20px'}" selectionMode="multiple"></p-column>
            <!-- <p-column field="keyId" header="主键" [style]="{'width':'0px';}"></p-column> -->
            <p-column field="editionId" header="版本" [style]="{'width':'80px'}"></p-column>
            <p-column field="moduleId" header="模块" [style]="{'width':'80px'}"></p-column>
            <p-column field="localEditionId" header="地方版" [style]="{'width':'80px'}"></p-column>
            <p-column field="usageId" header="使用类型" [style]="{'width':'80px'}"></p-column>
            <p-column field="batchId" header="批次" [style]="{'width':'80px'}"></p-column>
          </p-dataTable>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-info" (click)="save()">确定</button>
          <button type="button" class="btn btn-default" (click)="cpwhcpaddHide()">关闭</button>
        </div>
      </div>
    </div>
</div>
<p-growl [(value)]="msgs"></p-growl>
<p-dialog header="新增" [(visible)]="displayDialog" [responsive]="true" showEffect="fade" [modal]="true">
  <div class="ui-grid ui-grid-responsive ui-fluid" *ngIf="addTable">
      <div class="ui-grid-row">
          <div class="ui-grid-col-4" style="line-height:33px;"><label for="optEditionId">版本</label></div>
          <div class="ui-grid-col-8">
            <!-- <input pInputText id="optEditionId" [(ngModel)]="addTable.optEditionId" /> -->
            <select pInputText style="color: #000;width:100%;" [(ngModel)]="addTable.editionId" name="optEditionId" id="optEditionId">
              <option value="">--请选择--</option>
              <option [value]="c.optionId+'`'+c.optionName" *ngFor="let c of addList.optEdition">{{c.optionName}}</option>
            </select>
          </div>
      </div>
      <div class="ui-grid-row">
          <div class="ui-grid-col-4" style="line-height:33px;"><label for="optModuleId">模块</label></div>
          <div class="ui-grid-col-8">
            <!-- <input pInputText id="optModuleId" [(ngModel)]="addTable.optModuleId" /> -->
            <select pInputText style="color: #000;width:100%;" [(ngModel)]="addTable.moduleId" name="optModuleId" id="optModuleId">
              <option value="">--请选择--</option>
              <option [value]="c.optionId+'`'+c.optionName" *ngFor="let c of addList.optModule">{{c.optionName}}</option>
            </select>
          </div>
      </div>
      <div class="ui-grid-row">
          <div class="ui-grid-col-4" style="line-height:33px;"><label for="optLocalEditionId">地方版</label></div>
          <div class="ui-grid-col-8">
            <!-- <input pInputText id="optLocalEditionId" [(ngModel)]="addTable.optLocalEditionId" /> -->
            <select pInputText style="color: #000;width:100%;" [(ngModel)]="addTable.localEditionId" name="optLocalEditionId" id="optLocalEditionId">
              <option value="">--请选择--</option>
              <option [value]="c.optionId+'`'+c.optionName" *ngFor="let c of addList.optLocalEdition">{{c.optionName}}</option>
            </select>
          </div>
      </div>
      <div class="ui-grid-row">
          <div class="ui-grid-col-4" style="line-height:33px;"><label for="optUsageTypeId">使用类型</label></div>
          <div class="ui-grid-col-8">
            <!-- <input pInputText id="optUsageTypeId" [(ngModel)]="addTable.optUsageTypeId" /> -->
            <select pInputText style="color: #000;width:100%;" [(ngModel)]="addTable.usageId" name="optUsageTypeId" id="optUsageTypeId">
              <option value="">--请选择--</option>
              <option [value]="c.optionId+'`'+c.optionName" *ngFor="let c of addList.optUsageType">{{c.optionName}}</option>
            </select>
          </div>
      </div>
      <div class="ui-grid-row">
        <div class="ui-grid-col-4" style="line-height:33px;"><label for="optBatchId">批次</label></div>
        <div class="ui-grid-col-8">
          <!-- <input pInputText id="optBatchId" [(ngModel)]="addTable.optBatchId" /> -->
          <select pInputText style="color: #000;width:100%;" [(ngModel)]="addTable.batchId" name="optBatchId" id="optBatchId">
            <option value="">--请选择--</option>
            <option [value]="c.optionId+'`'+c.optionName" *ngFor="let c of addList.optBatch">{{c.optionName}}</option>
          </select>
        </div>
      </div>
  </div>
  <p-footer>
      <div class="ui-dialog-buttonpane ui-helper-clearfix">
          <!-- <button type="button" pButton icon="fa-close" (click)="delete()" label="删除"></button> -->
          <button type="button" pButton icon="fa-check" (click)="saveAdd()" label="保存"></button>
      </div>
  </p-footer>
</p-dialog>


<!-- <ng-template let-col let-car="rowData" pTemplate="body">
  <select style="color: #000;width:100%;" [(ngModel)]="optEditionId" name="optEditionId">
    <option value="">请选择</option>
    <option [value]="c.optionId" *ngFor="let c of addList.optLocalEdition">{{c.optionName}}</option>
  </select>
</ng-template> -->
