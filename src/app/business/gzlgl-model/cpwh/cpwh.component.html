<!-- <div class="wrapper"> -->
  <!-- <app-treeview treemodule="M4" treeitem="V1" ></app-treeview> -->
  <div class="content-wrapper">
    <app-navigation Showtitle="工作量管理模块" Subtitle="产品维护" Web="站点"
    Module="工作量管理模块" Page="产品维护" ></app-navigation>
    <section class="content" id="content">
      <div class="row" style="_height:400px;min-height:400px;">
        <div class="col-md-12 jtyjy-one-panel">
          <div class="jtyjy-search-sample">
            <div class="well well-lg">
              <table>
                <colgroup>
                  <col width="470"/>
                  <col width="80"/>
                  <col width="200"/>
                  <col width="50"/>
                  <col width="80"/>
                  <col width="50"/>
                </colgroup>
                <tr>
                  <td>
                     <!-- 按钮模块 -->
                      <div class="btn-group">
                          <button type="button" class="btn btn-info dropdown-toggle" (click)="addcp()">新增产品</button>
                      </div>
                      <div class="btn-group">
                          <button type="button" class="btn btn-success dropdown-toggle" (click)="addgj()">新增稿件</button>
                      </div>
                      <div class="btn-group">
                          <button type="button" class="btn btn-primary dropdown-toggle" (click)="pladd()">批量新增稿件</button>
                      </div>
                      <div class="btn-group">
                          <button type="button" class="btn btn-danger dropdown-toggle" (click)="delete()">删除</button>
                      </div>
                      <div class="btn-group">
                          <button type="button" class="btn btn-warning dropdown-toggle" (click)="print()">打印二维码</button>
                      </div>
                  </td>
                  <td><label style="margin-bottom:0px;">产品名称：</label></td>
                  <td>
                    <div class="jtyjy-search-text">
                      <input type="text" [(ngModel)]="opts.name" class="form-control ng-pristine ng-valid ng-touched" placeholder="产品名称...">
                    </div>
                  </td>
                  <td title="搜索">
                      <button class="jtyjySearchbtn" (click)="refresh()">
                          <span>搜索</span>
                          <i class="fa fa-spinner fa-spin"></i>
                      </button>
                  </td>
                  <td title="高级搜索"><button class="jtyjySearchbtn" (click)="adSearch()" [ngClass]="{'cpwh-isadSearch':isadSearch==1}">高级搜索</button></td>
                  <td title="重置">
                    <button class="jtyjySearchbtn" (click)="clearOpts()">
                      <span>重置</span>
                      <i class="fa fa-spinner fa-spin"></i>
                  </button>
                  </td>
                </tr>
              </table>
              <div class="jtyjy-search-more" [hidden]="isadSearch == 0">
                  
                  <form class="form-horizontal modal-form">
                      <table style="width: 100%">
                        <colgroup>
                          <col width="180"/>
                          <col width="180"/>
                          <col width="180"/>
                          <col width="180"/>
                          <col width="180"/>
                        </colgroup>
                        <tr class="cpwh-flex">
                          <td>
                              <label>所属部门：</label>
                              <div style="display:inline-block;">
                                  <select class="form-control cpwhSelOpt" [(ngModel)]="opts.departId" name="departId">
                                      <option value="">--请选择--</option>
                                      <option [value]="c.optionId" *ngFor="let c of optsList.optDepartment">{{c.optionName}}</option>
                                  </select>
                              </div>
                          </td>
                          <td>
                            <label>产品I类：</label>
                            <div style="display:inline-block;">
                              <select class="form-control cpwhSelOpt" [(ngModel)]="opts.kindId1" (ngModelChange)="opts.kindId1=$event;changeKind1()" name="optKind1Id">
                                <option value="">--请选择--</option>
                                <option [value]="c.optionId" *ngFor="let c of optsList.optKind1">{{c.optionName}}</option>
                              </select>
                            </div>        
                          </td>
                          <td>
                              <label>产品II类：</label>
                              <div style="display:inline-block;">
                                <select class="form-control cpwhSelOpt" [(ngModel)]="opts.kindId2" name="optKind2Id" [disabled]="id==1?false:true">
                                  <option value="">--请选择--</option>
                                  <option [value]="c.optionId" *ngFor="let c of optsList.optKind2">{{c.optionName}}</option>
                                </select>
                              </div>
                          </td>
                          <td>
                              <label>界别：</label>
                              <div style="display:inline-block;">
                                <select class="form-control cpwhSelOpt" [(ngModel)]="opts.jieId" name="optJieId">
                                  <option value="">--请选择--</option>
                                  <option [value]="c.optionId" *ngFor="let c of optsList.optJie">{{c.optionName}}</option>
                                </select>
                              </div>
                          </td>
                          <td>
                              <label>分类：</label>
                              <div style="display:inline-block;">
                                <select class="form-control cpwhSelOpt" [(ngModel)]="opts.typeId" name="optTypeId">
                                  <option value="">--请选择--</option>
                                  <option [value]="c.optionId" *ngFor="let c of optsList.optType">{{c.optionName}}</option>
                                </select>
                              </div>
                          </td>
                          
                        </tr>
                        <tr class="cpwh-flex">
                            <td>
                                <label>年级：</label>
                                <div style="display:inline-block;">
                                  <select class="form-control cpwhSelOpt" [(ngModel)]="opts.gradeId" name="optGradeId">
                                    <option value="">--请选择--</option>
                                    <option [value]="c.optionId" *ngFor="let c of optsList.optGrade">{{c.optionName}}</option>
                                  </select>
                                </div>
                            </td>
                          <td>
                              <label>地方版：</label>
                              <div style="display:inline-block;">
                                <select class="form-control cpwhSelOpt" [(ngModel)]="opts.localEditionId" name="optLocalEditionId">
                                  <option value="">--请选择--</option>
                                  <option [value]="c.optionId" *ngFor="let c of optsList.optLocalEdition">{{c.optionName}}</option>
                                </select>
                              </div>
                          </td>
                          <td>
                              <label>版本：</label>
                              <div style="display:inline-block;">
                                <select class="form-control cpwhSelOpt" [(ngModel)]="opts.editionId" name="optEditionId">
                                  <option value="">--请选择--</option>
                                  <option [value]="c.optionId" *ngFor="let c of optsList.optEdition">{{c.optionName}}</option>
                                </select>
                              </div>
                          </td>
                          <td>
                              <label>模块：</label>
                              <div style="display:inline-block;">
                                <select class="form-control cpwhSelOpt" [(ngModel)]="opts.moduleId" name="optModuleId">
                                  <option value="">--请选择--</option>
                                  <option [value]="c.optionId" *ngFor="let c of optsList.optModule">{{c.optionName}}</option>
                                </select>
                              </div>
                          </td>
                          <td>
                              <label>批次：</label>
                              <div style="display:inline-block;">
                                <select class="form-control cpwhSelOpt" [(ngModel)]="opts.batchId" name="optBatchId">
                                  <option value="">--请选择--</option>
                                  <option [value]="c.optionId" *ngFor="let c of optsList.optBatch">{{c.optionName}}</option>
                                </select>
                              </div>
                          </td>
                          
                        </tr>
                        <tr class="cpwh-flex">
                            <td>
                                <label>使用类型：</label>
                                <div style="display:inline-block;">
                                  <select class="form-control cpwhSelOpt" [(ngModel)]="opts.usageId" name="optUsageTypeId">
                                    <option value="">--请选择--</option>
                                    <option [value]="c.optionId" *ngFor="let c of optsList.optUsageType">{{c.optionName}}</option>
                                  </select>
                                </div>
                              </td>
                          <td>
                            <label>科目：</label>
                            <div style="display:inline-block;">
                              <select class="form-control cpwhSelOpt" [(ngModel)]="opts.subjectId" name="optSubjectId">
                                <option value="">--请选择--</option>
                                <option [value]="c.optionId" *ngFor="let c of optsList.optSubject">{{c.optionName}}</option>
                              </select>
                            </div>
                          </td>
                          <td class="cpwh-radio">
                            <label style="width:180px;line-height:34px;">是否按页码计算工作量：</label>
                            <div style="display:inline-block;">
                              <span><input type="radio" value="1" [(ngModel)]="opts.workloadType" name="isCpwh"></span>
                              是
                              <span><input type="radio" value="0" [(ngModel)]="opts.workloadType" name="isCpwh"></span>
                              否
                            </div>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="6">
                            <div class="moreSearchBtnContent">
                              <span class="moreSearchBtn"
                              
                                (click)="refresh()">
                                <span>搜索</span>
                                <i class="fa fa-spinner fa-spin"></i>
                              </span>
                              <span>|</span>
                              <span class="moreSearchBtn" (click)="clearOpts()">重置</span>
                              <span>|</span>
                              <span class="moreSearchBtn" (click)="cancel()">取消</span>
                            </div>
                          </td>
                        </tr>
                      </table>
                  </form>
              </div>
            </div>
            <!-- 表格 -->
            <p-treeTable [value]="dataList" selectionMode="single" [(selection)]="selected">
              <p-column [style]="{'width':'100px'}">
                <ng-template let-node="rowData" pTemplate="body">
                  <input type="checkbox" value="node.data.documentId" (click)="iptIsChecked(node.data.documentId)">
                </ng-template>
              </p-column>
              <p-column [style]="{'width':'40px','text-align':'center'}">
                <ng-template let-node="rowData" pTemplate="body">
                  <span class="fa fa-qrcode qrcodeSize" (click)="goQrcode(node.data.documentId,node.data.name)"></span>
                </ng-template>
              </p-column>
              <p-column field="name" header="产品名称" [style]="{'width':'250px','text-align':'center','white-space':'normal'}">
                <ng-template let-node="rowData" pTemplate="body">
                  <span (dblclick)="ShowElement($event,selected)">{{node.name}}</span>
                </ng-template>
              </p-column>
              <p-column field="jieId" header="届别" [style]="{'text-align':'center','white-space':'normal'}"></p-column>
              <p-column field="kindId2" header="产品II类" [style]="{'text-align':'center','white-space':'normal'}"></p-column>
              <p-column field="subjectId" header="科目" [style]="{'text-align':'center','white-space':'normal'}"></p-column>
              <p-column field="editionId" header="版本" [style]="{'text-align':'center','white-space':'normal'}"></p-column>
              <p-column field="moduleId" header="模块" [style]="{'text-align':'center','white-space':'normal'}"></p-column>
              <p-column field="localEditionId" header="地方版" [style]="{'text-align':'center','white-space':'normal'}"></p-column>
              <p-column field="usageId" header="使用类型" [style]="{'text-align':'center','white-space':'normal'}"></p-column>
              <p-column field="batchId" header="批次" [style]="{'text-align':'center','white-space':'normal'}"></p-column>
              <p-column field="typeId" header="分类" [style]="{'text-align':'center','white-space':'normal'}"></p-column>
              <p-column field="departId" header="所属部门" [style]="{'text-align':'center','white-space':'normal'}"></p-column>
            </p-treeTable>
            <p-paginator rows="{{opts.size}}" totalRecords="{{total}}" [rowsPerPageOptions]="[10,20,30]" (onPageChange)="paginate($event)"></p-paginator>
          </div>
        </div>
      </div>
      <cpwh-cpadd #cpwhcpadd (cpwhAdd)="cpwhAddchange()"></cpwh-cpadd>
      <cpwh-gjadd #cpwhgjadd (cpwhAddGJ)="cpwhGJchange()"></cpwh-gjadd>
      <cpwh-pladd #cpwhpladd (cpwhAddPL)="cpwhPLchange()"></cpwh-pladd>
      <cpwh-qrcode #cpwhqrcode></cpwh-qrcode>
      <p-growl [style]="{'top': '60px'}" [(value)]="msgs"></p-growl>
      <p-confirmDialog header="Confirmation" icon="fa fa-question-circle" width="425" #cd>
          <p-footer>
              <button type="button" pButton icon="fa-check" label="是" (click)="cd.accept()"></button>
              <button type="button" pButton icon="fa-close" label="否" (click)="cd.reject()"></button>
          </p-footer>
      </p-confirmDialog>
    </section>
  </div>
<!-- </div> -->

